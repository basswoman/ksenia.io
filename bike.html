<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta name="description" content="Ksenia Vasileva music portfolio" />
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <title>bike</title>
    <link rel="stylesheet" href="styles.css" />

    <style>
      body {
        background-color: rgb(13, 13, 13);
      }
      .pressed {
        box-shadow: 0 3px 4px 0 #dbedf3;
        opacity: 0.5;
      }

      .drum {
        color: rgba(255, 255, 255, 1);
        font-size: 24px;
        font-weight: 100;
        width: 100px;
        height: 100px;
        background-color: rgb(137, 95, 211);
        border: none;
        transition: all 0.3s;
        cursor: pointer;
        border-radius: 7px;
        display: block;
        margin: 5px;
        outline: none;
      }

      .grid-container {
        justify-content: center;
        display: grid;
        grid-template-columns: auto auto auto auto auto;
        padding: 20px;
        align-items: center;
      }
    </style>
  </head>
  <body>
    <div class="grid-container">
      <button class="q drum" id="w">q</button>
      <button class="w drum" id="a">w</button>
      <button class="e drum" id="s">e</button>
      <button class="r drum" id="d">r</button>
      <button class="t drum" id="j">t</button>
      <button class="a drum" id="k">a</button>
      <button class="s drum" id="s">s</button>
      <button class="d drum" id="d">d</button>
      <button class="f drum" id="f">f</button>
      <button class="g drum" id="g">g</button>
      <button class="z drum" id="z">z</button>
      <button class="x drum" id="x">x</button>
      <button class="c drum" id="c">c</button>
      <button class="v drum" id="v">v</button>
      <button class="b drum" id="b">b</button>
    </div>
    <p>
      <a class="item" href="index.html#sound">back to main</a>

      <script>
        var drumButtons = document.querySelectorAll(".drum").length;

        //Using for loop to loop through 6 buttons to run mouseClick function in every iters
        for (var i = 0; i < drumButtons; i++) {
          document
            .querySelectorAll(".drum")
            [i].addEventListener("click", mouseClick);
        }

        //This function will call makeSound function to play sound by mouse clicks
        function mouseClick() {
          //"this" objects is from the .drum classes called from the for loop. Reference: https://www.w3schools.com/js/js_this.asp
          var buttonInnerHTML = this.innerHTML;
          //call makeSound function and use buttonInnerHTML as argument.
          makeSound(buttonInnerHTML);
          //call buttonAnimation function to add animation while clicking mouse
          buttonAnimation(buttonInnerHTML);
        }

        //add event listener to all document. use "keydown" keyword to detect a keydown from keyboard and run keyStroke function
        document.addEventListener("keydown", keyStrock);

        //keyStroke function call makeSound function and use event parameter which is colect whenever a key is press down
        function keyStrock(event) {
          //passing event.key argument to makeSound function, this argument is used to detect keystroke event and pass key parameter from makeSound
          makeSound(event.key);
          //call buttonAnimation function to add animation while pressing keys
          buttonAnimation(event.key);
        }

        //this function will pair each sound to a specific key/ button using switch statement
        function makeSound(key) {
          switch (key) {
            case "q":
              var crash = new Audio("sounds/top1.wav");
              s;
              crash.play();
              break;

            case "w":
              var kick = new Audio("sounds/top2.wav");
              kick.play();
              break;

            case "e":
              var snare = new Audio("sounds/top3.wav");
              snare.play();
              break;

            case "r":
              var tom1 = new Audio("sounds/top4.wav");
              tom1.play();
              break;

            case "t":
              var tom2 = new Audio("sounds/top5.wav");
              tom2.play();
              break;

            case "a":
              var tom3 = new Audio("sounds/mid1.wav");
              tom3.play();
              break;

            case "s":
              var tom4 = new Audio("sounds/mid2.wav");
              tom4.play();
              break;

            case "d":
              var tom1 = new Audio("sounds/mid3.wav");
              tom1.play();
              break;

            case "f":
              var tom2 = new Audio("sounds/mid4.wav");
              tom2.play();
              break;

            case "g":
              var tom3 = new Audio("sounds/mid5.wav");
              tom3.play();
              break;

            case "z":
              var tom4 = new Audio("sounds/kick1.wav");
              tom4.play();
              break;

            case "x":
              var tom1 = new Audio("sounds/kick2.wav");
              tom1.play();
              break;

            case "c":
              var tom2 = new Audio("sounds/kick3.wav");
              tom2.play();
              break;

            case "v":
              var tom3 = new Audio("sounds/kick4.wav");
              tom3.play();
              break;

            case "b":
              var tom4 = new Audio("sounds/kick5.wav");
              tom4.play();
              break;

            default:
              console.log(buttonInnerHTML);
          }
        }

        //This function is to add animation to the key/ button while they are pressed/ clicked
        function buttonAnimation(currentKey) {
          //get the active button by selecting by key trigged and concatenating with "."
          var activeButton = document.querySelector("." + currentKey);
          //add press class to apply the .press class from CSS file
          activeButton.classList.add("pressed");
          //built-in function to set time out of an event
          setTimeout(function () {
            //anonymous function
            activeButton.classList.remove("pressed");
          }, 100); // set time out .1 sec
        }
      </script>
    </p>
  </body>
</html>
